import e from"styled-components";import{s as t}from"./index-e7dfce8b.js";import"./_rollupPluginBabelHelpers-d3dbb83e.js";import n,{useRef as o,useEffect as r}from"react";import"./index-a5e960b2.js";import i from"./Box.js";import"./style-c8057988.js";import"./Icon.js";import"./index-5dee7013.js";import"./Spinner.js";import"./_commonjsHelpers-97e6d7b1.js";import"./chroma-e1cfc3fe.js";import a from"./ButtonGroup.js";import l from"./IconButton.js";import d from"./Contrast.js";import c from"./Heading.js";import m from"react-measure";import s from"./ScrollBox.js";import"react-is";import"./_react_commonjs-external-e6f2dc1f.js";import p from"./TransitionAnimation.js";import"react-dom";var u;!function(e){e.small="480px",e.medium="792px",e.large="1068px"}(u||(u={}));var f=t.div.withConfig({displayName:"style__StyledModalWrapper",componentId:"sc-74oza0-0"})(["transition:opacity 100ms;background:",";position:fixed;height:100%;width:100%;padding:9px;top:0;left:0;box-sizing:border-box;display:flex;justify-content:center;align-items:center;z-index:800;",";> *{max-width:100%;max-height:100%;}"],(function(e){return e.theme.Modal.backdropColor}),(function(e){return e.show?"opacity: 1;":"opacity: 0; pointer-events: none;"})),h=t.div.withConfig({displayName:"style__StyledModal",componentId:"sc-74oza0-1"})(["max-width:100%;width:",";display:flex;flex-direction:column;overflow:hidden;max-height:calc(300px + 300 * (100vh - 300px) / 400);background:",";border-radius:",";@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){height:100vh;}"],(function(e){var t=e.modalSize;return u[t]}),(function(e){return e.theme.Modal.backgroundColor}),(function(e){return e.theme.Modal.borderRadius})),x=function(e){return n.createElement("svg",e,n.createElement("path",{d:"M10.06 9l6.47 6.47-1.06 1.06L9 10.06l-6.47 6.47-1.06-1.06L7.94 9 1.47 2.53l1.06-1.06L9 7.94l6.47-6.47 1.06 1.06L10.06 9z"}))};x.defaultProps={"'data-name'":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"};var v=e.figure.withConfig({displayName:"Modal__MediaWrapper",componentId:"bvhyz2-0"})(["box-sizing:border-box;position:relative;display:flex;width:",";margin:",";overflow:hidden;flex-shrink:0;align-items:center;justify-content:center;"],(function(e){var t=e.fullWidth,n=e.bleed,o=e.overlap;return t?"100%;":n&&o?"50%":"calc(50% - 48px)"}),(function(e){var t=e.fullWidth,n=e.bleed,o=e.overlap;return n?"0 0 0 -".concat(o,"px"):t?"0 0 24px 0":"24px"}));export default function(e){var t=o(null),u=o(null),g=function(n){null!==u.current&&null!==t.current&&void 0!==e.onClose&&e.show&&u.current.contains(n.target)&&!t.current.contains(n.target)&&e.onClose()},w=function(t){void 0===e.onClose||"Escape"!==t.key&&"Esc"!==t.key||e.onClose()};return r((function(){return document.addEventListener("mousedown",g,!1),document.addEventListener("keydown",w,!1),function(){document.removeEventListener("mousedown",g,!1),document.removeEventListener("keydown",w,!1)}})),n.createElement(f,{show:e.show,ref:u},n.createElement(p,{key:0,show:e.show,animation:"zoom"},n.createElement(m,{client:!0},(function(o){var r=o.measureRef,m=o.contentRect,p=m.client&&m.client.width<320,u="small"!==e.size&&void 0!==e.media&&m.client&&m.client.width>480;return n.createElement(h,{"data-testid":e["data-testid"],modalSize:void 0!==e.size?e.size:"large",ref:function(e){t.current=e,r(e)},role:"dialog","aria-modal":!0,"aria-label":e.title},void 0!==e.onClose&&n.createElement(i,{zIndex:10,position:"absolute",top:"12px",right:"24px",alignContent:"center",justifyContent:"flex-end",alignItems:"center",grow:0},n.createElement(l,{"data-testid":"modal-close-button",icon:x,variant:"primary",title:"close",onClick:e.onClose})),n.createElement(i,{shrink:1,grow:1,style:{overflow:"hidden"},direction:u?"row-reverse":"column"},e.media&&u&&n.createElement(v,{bleed:e.mediaBleed,overlap:e.mediaOverlap?e.mediaOverlap:0},e.media),n.createElement(s,null,n.createElement(i,{direction:"column",padding:p?[18]:[36]},!u&&e.media&&n.createElement(v,{"data-testid":"modal-media-container",fullWidth:!0,overlap:0},e.media),n.createElement(i,{margin:[0,0,12,0],direction:"column"},n.createElement(c,{"data-testid":"modal-title",textAlign:e.centered?"center":"left",hierarchy:2},e.title)),e.children))),(e.renderFixed||e.buttons)&&n.createElement(i,{shrink:0,width:"100%",direction:"column"},n.createElement(d,null,n.createElement(i,{"data-testid":"modal-buttons-container",direction:"column",alignItems:e.centered?"center":"stretch",shrink:0,padding:p?[24]:[24,36]},e.renderFixed&&e.renderFixed(),e.buttons&&n.createElement(a,{direction:p?"stacked":"rtl"},e.buttons)))))}))))}
