import{withTheme as e}from"styled-components";import{s as t}from"./index-e7dfce8b.js";import{e as n,f as o,g as r,h as i,i as a,j as l,k as s,_ as c,c as d}from"./_rollupPluginBabelHelpers-d3dbb83e.js";import u,{createRef as p,Component as m}from"react";import{t as f}from"./index-a5e960b2.js";import v from"./Box.js";import h from"./Text.js";import"./style-c8057988.js";import w from"./Icon.js";import"./index-5dee7013.js";import"./Spinner.js";import"./_commonjsHelpers-97e6d7b1.js";import"./chroma-e1cfc3fe.js";import b from"./Button.js";import"react-is";import"./_react_commonjs-external-e6f2dc1f.js";import{createPortal as x}from"react-dom";import{M as E,R as g,P as y}from"./index-d64903cf.js";import"./warning-af81d10c.js";var O=t.div.withConfig({displayName:"style__StyledOption",componentId:"sc-4gt4nd-0"})(["cursor:pointer;background:",";&:hover{background:",";}"],(function(e){var t=e.theme;return e.isSelected?t.MultiButton.window.secondaryColor:""}),(function(e){return e.theme.MultiButton.window.secondaryColor})),C=function(e){var t=e.onClick.bind(void 0);return u.createElement(O,{isSelected:e.isSelected,onClick:t},u.createElement(v,{padding:f(12,9)},e.children))},k=t(b).withConfig({displayName:"style__StyledMultiButton",componentId:"sc-1enptc9-0"})(["border-top-right-radius:0px;border-bottom-right-radius:0px;border-right:solid 0px transparent;margin:0px;&:focus{z-index:2;}&:active{transform:translateY(0px);}"]),B=t(b).withConfig({displayName:"style__StyledChevronButton",componentId:"sc-1enptc9-1"})(["border-left:solid 1px ",";border-top-left-radius:0px;border-bottom-left-radius:0px;margin:0px;&:active{transform:translateY(0px);border-left-color:",";}&:hover{border-left-color:",";}&:focus{border-left-color:",";}"],(function(e){var t=e.theme,n=e.variant;return t.MultiButton.button[n].dividerColor}),(function(e){var t=e.theme,n=e.variant;return t.MultiButton.button[n].dividerColor}),(function(e){var t=e.theme,n=e.variant;return t.MultiButton.button[n].dividerColor}),(function(e){var t=e.theme,n=e.variant;return t.MultiButton.button[n].dividerColor})),M=t.div.withConfig({displayName:"style__StyledWrapper",componentId:"sc-1enptc9-2"})(["border-radius:"," box-shadow:",";transform:translateZ(0) translate3d(0,0,0);transition:transform 0.1s,background 0.3s,color 0.3s,box-shadow 0.1s,border 0.3s;outline:none;&:focus{outline:none;}&:active{transform:translateY(2px);}"],(function(e){return e.theme.MultiButton.window.borderRadius}),(function(e){var t=e.open,n=e.theme;return t?n.MultiButton.button.common.active.boxShadow:""})),I=t.div.withConfig({displayName:"style__StyledWindow",componentId:"sc-1enptc9-3"})(["box-sizing:border-box;background:"," overflow:hidden;max-width:360px;border:",";border-radius:",";border-top-left-radius:0;border-top-right-radius:0;box-shadow:",";z-index:1000;"],(function(e){return e.theme.MultiButton.window.backgroundColor}),(function(e){var t=e.theme;return"solid 1px ".concat(t.MultiButton.window.borderColor)}),(function(e){return e.theme.MultiButton.window.borderRadius}),(function(e){return e.theme.MultiButton.window.boxShadow})),S=function(e){return u.createElement("svg",e,u.createElement("defs",null,u.createElement("style",null,".a","{","fill:#333740","}")),u.createElement("title",null,"MOS icons NEW"),u.createElement("path",{className:"a",d:"M16.88 4.21L9 12.09 1.12 4.21 0 5.33l9 8.99 9-8.99-1.12-1.12z"}))};S.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"};var j=function(e){return u.createElement("svg",e,u.createElement("defs",null,u.createElement("style",null,".a","{","fill:#333740","}")),u.createElement("title",null,"MOS icons NEW"),u.createElement("path",{className:"a",d:"M1.12 13.79L9 5.91l7.88 7.88L18 12.68 9 3.67l-9 9.01 1.12 1.11z"}))};j.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"};var _=function(e){return u.createElement("svg",e,u.createElement("path",{d:"M.23 9.24l5.86 5.92L17.74 3.55 16.7 2.46 6.14 13.02 1.31 8.19.23 9.24z"}))};_.defaultProps={"'data-name'":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"};var R=e(function(e){function t(e){var n;return r(this,t),n=i(this,a(t).call(this,e)),l(s(n),"windowRef",void 0),l(s(n),"buttonRef",void 0),l(s(n),"defaultIndex",void 0),l(s(n),"defaultOption",n.props.options.filter((function(e,t){if(!0===e.default)return n.defaultIndex=t,!0===e.default}))[0]),l(s(n),"open",(function(){n.setState({isOpen:!0,selectedOption:n.defaultOption,selectedIndex:n.defaultIndex})})),l(s(n),"close",(function(){n.setState({isOpen:!1})})),l(s(n),"mapOffset",(function(e,t){switch(!0){case void 0===e&&void 0===t:return"0, 0px";case void 0!==e&&void 0===t:return"".concat(e,"px, 0px");case void 0===e&&void 0!==t:return"0, ".concat(t,"px");default:return"".concat(e,"px, ").concat(t,"px")}})),l(s(n),"renderButtons",(function(){var e=n.props,t=(e.onClick,e.flat,e.compact,e.title,c(e,["onClick","flat","compact","title"]));return u.createElement(v,{wrap:!1},u.createElement(k,d({},t,{title:n.defaultOption.label,onClick:function(){return n.defaultOption.onClick()}}),u.createElement(v,{inline:!0},n.defaultOption.label)),u.createElement(B,{compact:!0,title:"open",variant:n.props.variant,onClick:n.state.isOpen?n.close:n.open},u.createElement(v,{inline:!0},u.createElement(w,{size:"small",icon:n.state.isOpen?j:S}))))})),l(s(n),"handleClickOutside",(function(e){n.windowRef.current&&n.buttonRef.current&&!n.windowRef.current.contains(e.target)&&!n.buttonRef.current.contains(e.target)&&n.close()})),l(s(n),"handleSelect",(function(e,t){n.setState({selectedOption:e,selectedIndex:t},(function(){n.state.selectedOption.onClick(),n.close()}))})),n.windowRef=p(),n.buttonRef=p(),n.defaultOption||(n.defaultOption=n.props.options[0]),n.state={isOpen:!1,selectedOption:n.defaultOption,selectedIndex:n.defaultIndex},n}return n(t,m),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this;return u.createElement(E,null,u.createElement(g,null,(function(t){var n=t.ref;return u.createElement("div",{ref:e.buttonRef},u.createElement(M,{ref:n,open:e.state.isOpen},e.renderButtons()))})),x(u.createElement("div",{ref:this.windowRef},this.state.isOpen&&u.createElement(y,{placement:void 0!==this.props.placement?this.props.placement:"bottom",modifiers:{offset:{offset:this.mapOffset(this.props.offset,this.props.distance)}}},(function(t){var n=t.ref,o=t.style;return u.createElement(I,{open:e.state.isOpen,ref:n,style:o},e.props.options.length>0&&e.props.options.map((function(t,n){return u.createElement(C,{isSelected:n===e.state.selectedIndex,key:"".concat(n,"-").concat(t.label),onClick:function(){e.handleSelect(t,n)}},u.createElement(v,{alignItems:"center"},u.createElement(v,{margin:[0,12,0,0]},n===e.state.selectedIndex&&u.createElement(w,{size:"medium",icon:_}),n!==e.state.selectedIndex&&u.createElement(v,{width:"18px"})),u.createElement("div",null,u.createElement(h,{as:"span",severity:"info",strong:n===e.state.selectedIndex},u.createElement(h,{strong:n===e.state.selectedIndex},t.label),u.createElement("span",null,t.description)))))})))}))),document.body))}}]),t}());export default R;
